<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Eduvos Coding Club - Home</title>
    <link rel="stylesheet" href="index_styling.css"/>
    <link rel="icon" type="image/png" href="Images/CB_NO_WORDS.PNG">
</head>
<body class="start-page">
    <img src="Images/CB_NO_WORDS.PNG" alt="CB-logo" title="Coding Club Logo">
    <h1 class="welcome-heading">Welcome to the Club</h1>
    <h3 style="color: white; font-family: Arial, sans-serif;">Press start to enter the coding universe</h3>
    <div class="container">
        <input type="checkbox" id="checkbox" />
        <label for="checkbox" class="switch">
        
            <svg class="slider" viewBox="0 0 512 512" height="1em" xmlns="http://www.w3.org/2000/svg">
                <path d="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V256c0 17.7 14.3 32 32 32s32-14.3 32-32V32zM143.5 120.6c13.6-11.3 15.4-31.5 4.1-45.1s-31.5-15.4-45.1-4.1C49.7 115.4 16 181.8 16 256c0 132.5 107.5 240 240 240s240-107.5 240-240c0-74.2-33.8-140.6-86.6-184.6c-13.6-11.3-33.8-9.4-45.1 4.1s-9.4 33.8 4.1 45.1c38.9 32.3 63.5 81 63.5 135.4c0 97.2-78.8 176-176 176s-176-78.8-176-176c0-54.4 24.7-103.1 63.5-135.4z"></path>
            </svg>
        </label>
    </div>
    <script>
        // Function to handle page state reset
        function resetState() {
            const checkbox = document.getElementById('checkbox');
            if (checkbox) {
                checkbox.checked = false;
                document.body.classList.remove('fade-out');
            }
        }
        
        // Event listeners for different page scenarios
        document.addEventListener('DOMContentLoaded', resetState);
        window.addEventListener('pageshow', function(event) {
            if (event.persisted) {
                resetState();
            }
        });

        document.getElementById('checkbox').addEventListener('change', function() {
            if(this.checked) {
                document.body.classList.add('fade-out');
                localStorage.setItem('pageState', 'transitioning');
                setTimeout(() => {
                    sessionStorage.setItem('fadein', 'true');
                    window.location.href = 'main.html';
                }, 1000);
            }
        });
        
        // Clear transition state on page load
        if (localStorage.getItem('pageState') === 'transitioning') {
            localStorage.removeItem('pageState');
            resetState();
        }
        
    </script>
</body>
</html>
